<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <?!= include('Styles'); ?>
</head>
<body>
  <header class="banner">
    <h1 id="title">Task <?= id ?></h1>
  </header>

  <main id="content">
    <section id="overview"></section>
  </main>

  <?!= include('Scripts'); ?>
  <script>
    const ENTITY='task',ID='<?= id ?>';
    google.script.run.withSuccessHandler(renderOverview).getEntity(ENTITY,ID);

    function renderOverview(obj){
      if(!obj){document.getElementById('overview').textContent='Not found';return;}
      const wrap=document.getElementById('overview');
      wrap.innerHTML='';
      Object.entries(obj).forEach(([k,v])=>{
        const row=document.createElement('div');
        row.className='row';
        row.innerHTML=`<label>${k}</label><span>${v}</span>`;
        wrap.appendChild(row);
      });
    }
  </script>
</body>
</html>
