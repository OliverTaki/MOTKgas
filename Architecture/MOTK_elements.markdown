# MOTK Elements (v2025-09-11 â€“ rev-12)

*Defines field types, page types, sheet columns, and DataHub for MOTK Sheets/App. Complements MOTK_architecture.md and MOTK_tech_stack.md. All data is listed without omission. Select options are enumerated under Field Types. Descriptions and Notes are concise. Entity is `member`, tab is `ProjectMembers`, aligning with other entities (e.g., `shot`/`Shots`).*

## Table of Contents
1. [Field Types](#field-types)
2. [Page Types](#page-types)
3. [Sheet Columns](#sheet-columns)
4. [DataHub](#datahub)

## 1. Field Types
Defines the data types used in the Fields sheet's `type` column.

| Type | Description |
|------|-------------|
| id | Unique identifier (e.g., `sh_0288`, `as_0012`). Non-editable, required. Generated by `AUTOMATION.gs`. |
| checkbox | Boolean (TRUE/FALSE) displayed as checkbox (e.g., `Overlap Sensitive`). Toggled in UI, no custom values. |
| date | Date/timestamp (e.g., `2025-08-01`). Uses ISO 8601, supports date picker. |
| entity_link | References another entity's ID (e.g., `sh_0001` in `Asset Link`). Displays as entity_name (e.g., ShotCode). Multi-select via searchable UI window. Validated by `Code.gs`. |
| entity_name | Human-readable name (e.g., `ShotCode`, `Asset Name`). Unique within entity, enforced by `AUTOMATION.gs`. |
| file_list | Lists files in `MOTK_ORIGINALS`. Filtering window supports tag-based search and uploads (tags inherited). Same backend as thumbnails, list view. |
| json | JSON for configuration (e.g., page layout in `Config`). Parsed by `FieldsServer.gs`, errors logged to HealthDebug.html. |
| originals | Drive folder URL (e.g., `MOTK[Project:Oliver06]/MOTK_ORIGINALS/01shots/sh_0001__501A`). Opens in new tab, non-editable, generated by `DriveBuilder.gs`. |
| select | Dropdown with predefined options. New values added via UI update `options` column. See Select Field Options below. |
| text | Free-form text (e.g., `Shot Note`). Multiline, no limit, UI truncates display beyond 500 chars. |
| thumbnails | Grid of images in `MOTK_PROXIES`. Single card in GridStack (e.g., `shotview`). Tag-filterable (e.g., "shooting", "art"). Same backend as file_list, grid view. |
| versions | Version history (e.g., `v001`, `v002`). Creates subfolder in originals (e.g., `shotview`). Latest displayed, proxy uses `field_name` (e.g., `shotview`). Subfolders by `DriveBuilder.gs`. |

### Select Field Options
Options for `select` type fields, listed by entity and field_name. Comma-separated in `options` column.

#### shot - Status
- Options: not_started,in_progress,review,approved,completed

#### asset - Asset Type
- Options: Characters,Puppets,Props

#### asset - Status
- Options: not_started,in_progress,review,approved,completed

#### task - Status
- Options: not_started,in_progress,review,approved,completed

#### member - Department
- Options: ANIMATION,PRODUCTION,CAMERA,EDIT,PUPPET,ART,CG,LIGHTING,MUSIC,DIRECTION,CAST,STUDIO,ABOVE-THE-LINE

#### member - Permissions
- Options: view,edit,admin

#### page - Page Type
- Options: table,overview,detail,schedule,chat,forum

#### page - Entity
- Options: shot,asset,task,member,user

#### Fields - entity
- Options: shot,asset,task,member,user,page

#### Fields - type
- Options: id,checkbox,date,entity_link,entity_name,file_list,json,originals,select,text,thumbnails,versions

## 2. Page Types
Defines the types used in the Pages sheet's `Page Type` column.

| Type | Description |
|------|-------------|
| table | Sortable/filterable table of entity data. Configured via `Config` JSON (e.g., column order, hidden fields). |
| detail | Single entity details in grid/table view. Supports prev/next navigation, Drive folder links. Configured via `Config` JSON. |
| overview | Details to be defined in future specifications. |
| schedule | Details to be defined in future specifications. |
| chat | Details to be defined in future specifications. |
| forum | Details to be defined in future specifications. |

## 3. Sheet Columns
### 3.1 Shots Sheet
| field_id | field_name | type | Example | Notes |
|----------|------------|------|---------|-------|
| fi_0001 | Shot ID | id | sh_0001 | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| fi_0002 | ShotCode | entity_name | 201A | Synced by `AUTOMATION.gs`. Non-editable. |
| fi_0003 | Shot | text | A | Free-form text, optional. |
| fi_0004 | Scene | text | SC01 | Free-form text, optional. |
| fi_0005 | Sequence | text |  | Free-form text, optional. |
| fi_0006 | Act | text | Act02 | Free-form text, optional. |
| fi_0007 | Episode | text |  | Free-form text, optional. |
| fi_0008 | Status | select | not_started | Options: not_started,in_progress,review,approved,completed. |
| fi_0009 | TC @fps | text | 00:00:05:12@24 | Free-form text, optional. |
| fi_0010 | Originals URL | originals | shots/sh_0001 | Generated by `DriveBuilder.gs`. Non-editable. |
| fi_0011 | Thumbnails | thumbnails |  | Grid view, tag-filterable. |
| fi_0012 | File List | file_list |  | List view, tag-filterable, supports uploads. |
| fi_0013 | shotview | versions | v001 | Latest displayed, proxy uses `shotview`. |
| fi_0014 | Shot Note | text | opening | Multiline text, optional. |
| fi_0061 | Asset Link | entity_link | as_0001, as_0002, as_0003 | Multi-select via UI, shows Asset Name. |
| fi_0062 | Task Link | entity_link | tk_0001 | Multi-select via UI, shows Task Name. |
| fi_0066 | Due Date | date | 2025-08-01 | ISO 8601, date picker, optional. |

### 3.2 Assets Sheet
| field_id | field_name | type | Example | Notes |
|----------|------------|------|---------|-------|
| fi_0015 | Asset ID | id | as_0001 | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| fi_0016 | Asset Name | entity_name | Body Geo | Synced by `AUTOMATION.gs`. Non-editable. |
| fi_0017 | Asset Type | select | Characters | Options: Characters,Puppets,Props. |
| fi_0018 | Status | select | not_started | Options: not_started,in_progress,review,approved,completed. |
| fi_0019 | Overlap Sensitive | checkbox | TRUE | Toggled in UI, optional. |
| fi_0020 | Originals URL | originals | assets/as_0001 | Generated by `DriveBuilder.gs`. Non-editable. |
| fi_0021 | Thumbnails | thumbnails |  | Grid view, tag-filterable. |
| fi_0022 | File List | file_list |  | List view, tag-filterable, supports uploads. |
| fi_0023 | assetview | versions | v001 | Latest displayed, proxy uses `assetview`. |
| fi_0024 | Asset Note | text | main | Multiline text, optional. |
| fi_0063 | Shot Link | entity_link | sh_0001, sh_0002, sh_0003 | Multi-select via UI, shows ShotCode. |
| fi_0064 | Task Link | entity_link |  | Multi-select via UI, shows Task Name. |

### 3.3 Tasks Sheet
| field_id | field_name | type | Example | Notes |
|----------|------------|------|---------|-------|
| fi_0025 | Task ID | id | tk_0001 | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| fi_0026 | Task Name | entity_name | Layout | Synced by `AUTOMATION.gs`. Non-editable. |
| fi_0027 | Status | select | in_progress | Options: not_started,in_progress,review,approved,completed. |
| fi_0028 | Assignee | entity_link | pm_0001 | Multi-select via UI, shows Role. |
| fi_0029 | Start Date | date | 2025-07-20 | ISO 8601, date picker, optional. |
| fi_0030 | End Date | date | 2025-07-25 | ISO 8601, date picker, optional. |
| fi_0031 | Shot Link | entity_link | sh_0001 | Multi-select via UI, shows ShotCode. |
| fi_0032 | Originals URL | originals | tasks/tk_0001 | Generated by `DriveBuilder.gs`. Non-editable. |
| fi_0033 | Task Note | text |  | Multiline text, optional. |
| fi_0065 | Asset Link | entity_link |  | Multi-select via UI, shows Asset Name. |

### 3.4 ProjectMembers Sheet
| field_id | field_name | type | Example | Notes |
|----------|------------|------|---------|-------|
| fi_0034 | Member ID | id | pm_0001 | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| fi_0035 | Role | entity_name | Lead Animator | Synced by `AUTOMATION.gs`. Non-editable. |
| fi_0036 | Department | select | ANIMATION | Options: ANIMATION,PRODUCTION,CAMERA,EDIT,PUPPET,ART,CG,LIGHTING,MUSIC,DIRECTION,CAST,STUDIO,ABOVE-THE-LINE. |
| fi_0037 | User Link | entity_link | us_0001 | Multi-select via UI, shows User Name. |
| fi_0038 | Permissions | select | edit | Options: view,edit,admin. Enforced by `Code.gs`. |
| fi_0039 | Joined | date | 2025-06-01 | ISO 8601, date picker, optional. |
| fi_0040 | Active | checkbox | TRUE | Toggled in UI, optional. |
| fi_0041 | Overlap Sensitive | checkbox | TRUE | Toggled in UI, optional. |
| fi_0042 | memberview | versions | v001 | Latest displayed, proxy uses `memberview`. |
| fi_0043 | Member Note | text |  | Multiline text, optional. |

### 3.5 Users Sheet
| field_id | field_name | type | Example | Notes |
|----------|------------|------|---------|-------|
| fi_0044 | User ID | id | us_0001 | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| fi_0045 | User Name | entity_name | John Smith | Synced by `AUTOMATION.gs`. Non-editable. |
| fi_0046 | Email | text | john@example.com | Free-form text, required. |
| fi_0047 | Created | date | 2025-04-20 | ISO 8601, non-editable, set on creation. |
| fi_0048 | Last Login | date | 2025-07-15 | ISO 8601, non-editable, updated by `Code.gs`. |
| fi_0049 | Overlap Sensitive | checkbox | FALSE | Toggled in UI, optional. |
| fi_0050 | userview | versions | v001 | Latest displayed, proxy uses `userview`. |
| fi_0051 | User Note | text |  | Multiline text, optional. |

### 3.6 Pages Sheet
| field_id | field_name | type | Example | Notes |
|----------|------------|------|---------|-------|
| fi_0052 | Page ID | id | pg_default | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| fi_0053 | Page Name | entity_name | Default | Synced by `AUTOMATION.gs`. Non-editable. |
| fi_0054 | Page Type | select | table | Options: table,overview,detail,schedule,chat,forum. |
| fi_0055 | Entity | select | shot | Options: shot,asset,task,member,user. |
| fi_0056 | Config | json | {"order":["fi_0001","fi_0002","fi_0008"],"hidden":{"fi_0006":true,"fi_0007":true}} | Parsed by `FieldsServer.gs` for UI rendering. |
| fi_0057 | Shared | checkbox | TRUE | Toggled in UI, controls team visibility. |
| fi_0058 | Created By | entity_link | u_demo_01 | Set on creation, shows User Name, non-editable. |
| fi_0059 | Created | date | 2025-08-07 | ISO 8601, non-editable, set on creation. |
| fi_0060 | Modified | date | 2025-09-05T02:55:22.251Z | ISO 8601, non-editable, updated on edit. |

### 3.7 Fields Sheet
| Column | Type | Example | Description |
|--------|------|---------|-------------|
| field_id | id | fi_0001 | Generated by `AUTOMATION.gs`. Non-editable, unique. |
| entity | select | shot | Options: shot,asset,task,member,user,page. Defines fieldâ€™s entity. |
| field_name | text | Shot ID | Human-readable name. Required, unique within entity. |
| type | select | id | Options: id,checkbox,date,entity_link,entity_name,file_list,json,originals,select,text,thumbnails,versions. Defines field behavior. |
| editable | checkbox | FALSE | Toggled in UI. Sets editability in UI/sheet. |
| required | checkbox | TRUE | Toggled in UI. Enforces mandatory input. |
| options | text | not_started,in_progress,review,approved,completed | Comma-separated list for `select` fields. Updated by `FieldsServer.gs`. |
| Core | checkbox | TRUE | Marks field for DataHub aggregation. |
| Core_values | text | ShotCode\|201A\|301B\|401C | Pipe-separated values for `Core=TRUE` fields. Updated by `FieldsServer.gs`. |

### 3.8 project_meta Sheet
| Column | Type | Example | Description |
|--------|------|---------|-------------|
| project_id | text | Project:Oliver06 | Unique project ID, set on creation. |
| storage_provider | text | gdrive | Specifies storage backend (e.g., Google Drive). |
| originals_root_url | text | https://drive.google.com/drive/folders/1bGlJgxkCwKjtTpKY7v1AtbvAPro9Zt2u | Root URL for `MOTK_ORIGINALS`, by `DriveBuilder.gs`. |
| proxies_root_url | text | https://drive.google.com/drive/folders/1cWedhZ1l_O1ehKPD5OB1qAZbws2G1nbU | Root URL for `MOTK_PROXIES`, by `DriveBuilder.gs`. |
| created_at | date | 2025-07-23T01:27:38.635Z | ISO 8601, non-editable, set on creation. |
| Episode | checkbox | FALSE | Hides column in UI/sheet if FALSE. |
| Act | checkbox | TRUE | Hides column in UI/sheet if FALSE. |
| Sequence | checkbox | FALSE | Hides column in UI/sheet if FALSE. |
| Scene | checkbox | TRUE | Hides column in UI/sheet if FALSE. |
| Shot | checkbox | TRUE | Hides column in UI/sheet if FALSE. |

## 4. DataHub
Aggregates data for fast access. Columns: `Shots`, `Assets`, `Tasks`, `ProjectMembers`, `Users`, `Pages`, `Fields`, `project_meta`. Row 1 is labels; Row 2+ are data rows concatenated with `|` separators in each cell. Uses `hubGetSlice` for lazy loading (1000 rows/batch) for large datasets (e.g., 12,792+ rows).